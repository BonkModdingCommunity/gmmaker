
<!-- Generated by webdoc on 3/17/2024, 4:34:02 PM America/Buenos_Aires -->
<!DOCTYPE html>
<html lang="en">
  <head><link rel="shortcut icon" href="/gmmaker/docs/favicon.ico">
    <meta charset="utf-8" />
    <title>GMMaker docs: Drawings</title>

    

    
        <link type="text/css" rel="stylesheet" href="/gmmaker/docs/styles/index.css" />
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=Roboto+Mono&family=Source+Code+Pro&display=swap" />
    <link type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">
    
      <meta name="og:title" content="GMMaker docs" />
    
      <meta name="og:description" content="GMMaker in-game API documentation" />
    

    

    
      <script>
        window.appData = {
          applicationName: `Game Mode Maker <h6 style="display: inline;">v2.0.8 wiki</h6>`,
          appBar: {"items":{"reference":{"name":"API Reference","uri":"/gmmaker/docs/index.html"},"tutorials":{"name":"Wiki","uri":"/gmmaker/docs/tutorials/Home.html"}},"current":"tutorials"},
          pages: {"settings":"/gmmaker/docs/settings.html","relative":{"settings":"settings.html"}},
          explorerTree: "/gmmaker/docs/explorer/tutorials.json",
          siteRoot: "gmmaker/docs",
          integrations: JSON.parse(`{}`),
          manifest: `gmmaker/docs/webdoc.api.json`,
        };
      </script>
      <script crossorigin src="/gmmaker/docs/scripts/vendor/react-v16.14.0.production.min.js" defer></script>
      <script crossorigin src="/gmmaker/docs/scripts/vendor/react-dom-v16.14.0.production.min.js" defer></script>
      
      <script src="/gmmaker/docs/scripts/default-template.js" defer></script>
    
  </head>
  <body class="root"><script defer>monkeyStyle = document.createElement('style');monkeyStyle.innerHTML = `
.jss12 {
  color: var(--color-primary) !important;
}

.jss3, .jss7, .jss8, .jss11, .jss13 {
  color: #fff !important;
}
`;document.body.prepend(monkeyStyle);</script>
    <div class="docs tutorials">
      <article class="page">
        <div class="header-content-container">
          <section class="header" id="header-mount-point">
            
          </section>
          <div class="header-content-container__content">
            <div class="page-explorer" id="explorer-mount-point">
              
            </div>
            
            
<main class="page-content">
  <div class="document">
    
    
<h1>Drawings</h1>
<p>Drawings let you add to the visual experience of the game, allowing you to, for example, create a heads-up display, give players cosmetics, add visual effects like explosions, even change the scenery entirely.</p>
<p>GMMaker v1.0's drawing system is much different from previous versions' drawing system. Instead of drawing into a canvas and clearing it to redraw, you now define <strong>drawings</strong> which are containers for <strong>shapes</strong>, and you can modify them or delete them afterwards.</p>
<p>Shapes are objects that define a graphic, like a rectangle or a polygon. There are six types of shapes:</p>
<ul>
<li><code>bx</code>: A box, a rectangle.</li>
<li><code>ci</code>: An circle, an ellipse.</li>
<li><code>po</code>: A polygon.</li>
<li><code>li</code>: A line.</li>
<li><code>tx</code>: A string of text.</li>
<li><code>im</code>: An image.</li>
</ul>
<p>Further explanation of the unique properties of each one of these shape types can be found in the in-game documentation.</p>
<p>In a way, drawings are like platforms: They have their own spatial properties such as position and angle, that affect their children (shapes), and these children can have their own position relative to their parent.</p>
<p>Drawings need to be attached to a space to be visible to the player. This is done with the <code>attachTo</code> and <code>attachId</code> properties of the drawing. There are four kinds of spaces:</p>
<ul>
<li><code>attachTo: 'screen'</code> will attach the drawing to screen space. This means the drawing will not move from its spot when you do any changes to the camera. This is useful for heads-up displays and other types of user interfaces.</li>
<li><code>attachTo: 'world'</code> will attach the drawing to world space. This means the drawing is positioned in the world, and therefore will be affected by camera manipulation and shaking, like everything else in it (discs, bodies, etc).</li>
<li><code>attachTo: 'disc'</code> with <code>attachId: discId</code> will attach the drawing to the specified disc. This simply means it will move and rotate with the disc. When the disc dies, the drawings attached to it will disappear, however they will not be removed from the drawings array.</li>
<li><code>attachTo: 'platform'</code> with <code>attachId: platId</code> will attach the drawing to the specified platform. They behave exactly like drawings attached to discs.</li>
</ul>
<p>Example usage:</p>
<pre class="hljs"><code><span class="hljs-comment">// This creates a drawing attached to a disc, containing a white line shape</span>
<span class="hljs-comment">// that points towards the disc&#x27;s direction (based on its velocity).</span>

game.events.addEventListener(<span class="hljs-string">&#x27;roundStart&#x27;</span>, {<span class="hljs-attr">perPlayer</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
  <span class="hljs-comment">// make sure this player has a disc</span>
  <span class="hljs-keyword">if</span> (!game.state.discs[id]) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// make an object in game.vars that will contain the variables of this specific player</span>
  game.vars[id] = {};

  <span class="hljs-comment">// create the drawing, and store the return id in a variable called drawingId</span>
  game.vars[id].drawingId = game.graphics.createDrawing({
    <span class="hljs-attr">alpha</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pos</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    <span class="hljs-attr">angle</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">scale</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>],
    <span class="hljs-attr">attachTo</span>: <span class="hljs-string">&#x27;disc&#x27;</span>,
    <span class="hljs-attr">attachId</span>: id,
    <span class="hljs-attr">isBehind</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">shapes</span>: [{
      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;li&#x27;</span>,
      <span class="hljs-attr">colour</span>: <span class="hljs-number">0xffffff</span>,
      <span class="hljs-attr">alpha</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">pos</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
      <span class="hljs-attr">end</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
      <span class="hljs-attr">width</span>: <span class="hljs-number">0.5</span>
    }]
  });
});

game.events.addEventListener(<span class="hljs-string">&#x27;step&#x27;</span>, {<span class="hljs-attr">perPlayer</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
  <span class="hljs-comment">// make sure this player&#x27;s disc still exists</span>
  <span class="hljs-keyword">if</span> (!game.state.discs[id]) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// store the drawing in a variable for better readability (optional)</span>
  <span class="hljs-keyword">const</span> drawing = game.graphics.drawings[game.vars[id].drawingId];

  <span class="hljs-comment">// set the end point of the line shape to the disc&#x27;s linear velocity,</span>
  <span class="hljs-comment">// normalized to always have a length of 1</span>
  drawing.shapes[<span class="hljs-number">0</span>].end = Vector.normalize(game.state.discs[<span class="hljs-number">0</span>].lv);
});
</code></pre>


  </div>
  
    <div class="serial-navigation serial-navigation--both">
      
        <a class="serial-navigation__previous" href="/gmmaker/docs/tutorials/Fundaments-3.html">
          <section>
            <svg
              class="serial-navigation-arrow"
              version="1.1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              width="27px"
              height="14px"
              viewBox="0 0 23 14"
              xml:space="preserve"
            >
              <line x1="0" y1="7" x2="6" y2="1" />
              <line x1="0" y1="7" x2="6" y2="13" />
              <line x1="0" y1="7" x2="23" y2="7" />
            </svg>
          </section>
          <section>
            <span>PREVIOUS GUIDE</span>
            Vectors
          </section>
        </a>
      
      
        <hr />
      
      
        <a class="serial-navigation__next" href="/gmmaker/docs/tutorials/Fundaments-5.html">
          <section>
            <span>NEXT GUIDE</span>
            <svg
              class="serial-navigation-arrow"
              version="1.1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              width="27px"
              height="14px"
              viewBox="0 0 23 14"
              xml:space="preserve"
            >
              <line x1="22" y1="7" x2="16" y2="1" />
              <line x1="22" y1="7" x2="16" y2="13" />
              <line x1="0" y1="7" x2="23" y2="7" />
            </svg>
          </section>
          <section>sh! Shortcuts</section>
        </a>
      
    </div>
  
  <div class="footer-gap" style="min-height: 48px;"></div>
  


  <footer class="footer" id="footer-mount-point"></footer>

</main>

            <!-- footer in content -->
          </div>
          <div class="bottom-banner">
              
          </div>
          <div class="watermark">
            <span class="watermark-text">
              Powered by <a href="https://www.webdoclabs.com">webdoc</a>!
             </span>
          </div>
        </div>
      </article>
    </div>
    <script src="/gmmaker/docs/scripts/vendor/mermaid-9.1.6.min.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", () =>
        mermaid.initialize({ startOnLoad: true, theme: 'base' })
      );
    </script>
  </body>
</html>
